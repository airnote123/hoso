<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ”¾é€åŸç¨¿ çµ±åˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼</title>
    <!-- Tailwind CSSã®èª­ã¿è¾¼ã¿ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãªåŸºæœ¬è¨­å®š */
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #f3f4f6;
        }
        /* å°åˆ·æ™‚ã®è¨­å®šï¼ˆå¿…è¦ã§ã‚ã‚Œã°ï¼‰ */
        @media print {
            .no-print {
                display: none;
            }
        }
        /* ãƒã‚¹ã‚¯æ©Ÿèƒ½ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .mask-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95); /* æ¿ƒã„é»’ã§éš ã™ */
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
            border-radius: inherit; /* è¦ªè¦ç´ ã®è§’ä¸¸ã‚’ç¶™æ‰¿ */
            pointer-events: none; /* ãƒã‚¹ã‚¯ã®ä¸‹ã®è¦ç´ ãŒã‚¯ãƒªãƒƒã‚¯ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ */
            text-align: center; /* ä¸­å¤®æƒãˆ */
        }
        /* ãƒã‚¹ã‚¯ã‚’é©ç”¨ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¦ªè¦ç´  */
        .script-box {
            position: relative; /* ãƒã‚¹ã‚¯ã®è¦ªè¦ç´ ã«ã™ã‚‹ */
        }
        .masked-content {
            position: relative; /* ãƒã‚¹ã‚¯ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã®åŸºæº–ç‚¹ã«ã™ã‚‹ */
            display: block; /* ãƒ–ãƒ­ãƒƒã‚¯è¦ç´ ã«ã—ã¦ãƒã‚¹ã‚¯ã—ã‚„ã™ã„ã‚ˆã†ã« */
            border-radius: 0.375rem; /* rounded-mdã«åˆã‚ã›ã¦ */
            /* èª­ã¿ä¸Šã’æ©Ÿèƒ½ãŒä½¿ã„ã‚„ã™ã„ã‚ˆã†ã«ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ˜ç¢ºã«å›²ã‚€ */
            border: 1px dashed transparent; 
            padding: 8px;
            transition: border-color 0.2s;
        }
        /* iPadãªã©ã®èª­ã¿ä¸Šã’æ©Ÿèƒ½ã§é¸æŠã—ã‚„ã™ã„ã‚ˆã†ã€ãƒ›ãƒãƒ¼ã§å¢ƒç•Œç·šã‚’å¼·èª¿ */
        .masked-content:hover {
            border-color: #3b82f6; /* Blue-500 */
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <div class="max-w-6xl mx-auto bg-white shadow-2xl rounded-xl min-h-[90vh]">
        <header class="p-6 bg-blue-700 text-white rounded-t-xl">
            <h1 class="text-3xl font-extrabold text-center">
                å®ä»™å° ãƒ©ã‚¸ã‚ªæ”¾é€åŸç¨¿ çµ±åˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
            </h1>
            <p class="text-center mt-1 opacity-80">iPadã®èª­ã¿ä¸Šã’æ©Ÿèƒ½ã«å¯¾å¿œã€‚æ—¥ä»˜ã‚’é¸æŠã—ã€æ”¾é€åŸç¨¿å…¨ä½“ã‚’ç¢ºèªã§ãã¾ã™ã€‚</p>
        </header>

        <!-- ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ: æ—¥ä»˜é¸æŠ (å·¦) ã¨ è©³ç´°è¡¨ç¤º (å³) -->
        <div class="flex flex-col lg:flex-row">
            
            <!-- 1. æ—¥ä»˜é¸æŠã‚µã‚¤ãƒ‰ãƒãƒ¼ (ãƒªã‚¹ãƒˆ) -->
            <div id="date-selector" class="w-full lg:w-1/4 p-4 lg:p-6 bg-gray-50 border-r border-gray-200 no-print">
                <h2 class="text-xl font-bold mb-4 text-gray-800 border-b pb-2">ğŸ—“ï¸ æ”¾é€æ—¥ã‚’é¸æŠ</h2>
                
                <!-- è©³ç´°è¡¨ç¤ºã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ -->
                <button id="clear-selection-button" 
                        class="w-full text-center p-3 my-2 rounded-lg transition duration-150 ease-in-out bg-gray-200 hover:bg-gray-300 border border-gray-300 shadow-sm font-bold text-gray-700 no-print">
                    è©³ç´°è¡¨ç¤ºã‚’ã‚¯ãƒªã‚¢
                </button>
                
                <!-- æ—¥ä»˜ãƒœã‚¿ãƒ³ãŒã“ã“ã«JSã§æŒ¿å…¥ã•ã‚Œã‚‹ -->
            </div>

            <!-- 2. è©³ç´°è¡¨ç¤ºã‚¨ãƒªã‚¢ (å¤§ç”»é¢) -->
            <div id="script-detail" class="w-full lg:w-3/4 p-6 lg:p-10 relative">
                <!-- ãƒã‚¹ã‚¯ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ (STATIC) -->
                <div id="mask-controls" class="mb-4 text-right no-print hidden">
                    <button id="mask-button" 
                            class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg shadow transition duration-150 ease-in-out">
                        ğŸ”’ å†…å®¹ã‚’éš ã™ (ãƒã‚¹ã‚¯ON)
                    </button>
                </div>

                <p id="initial-message" class="text-center text-gray-500 mt-20 text-lg">
                    å·¦å´ã®ãƒªã‚¹ãƒˆã‹ã‚‰æ”¾é€æ—¥ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚
                </p>
                <!-- é¸æŠã•ã‚ŒãŸåŸç¨¿ã®å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ã“ã“ã«è¿½åŠ ã•ã‚Œã‚‹ -->
            </div>
        </div>

    </div>

<script>
    // ----------------------------------------------------
    // 1. æ”¾é€ãƒ‡ãƒ¼ã‚¿
    // ----------------------------------------------------
    const broadcastData = [
        // æ”¾é€ç•ªå· 1 (12æœˆ1æ—¥) - é›‘å­¦ãƒ†ãƒ¼ãƒ: ä¸–ç•Œã®çµ¦é£Ÿãƒ»ãƒ©ãƒ³ãƒäº‹æƒ…
        {
            id: 1,
            date: "12æœˆ1æ—¥ (æœˆ)",
            broadcastNo: 1,
            morning: {
                title: "æœã®æ”¾é€",
                music: "1æ›²ç›®ï¼šã‚¸ãƒ–ãƒª (æ›²åæœªå®š)",
                corner: "åå–„æˆ’ éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«"
            },
            lunch: {
                title: "æ˜¼ã®æ”¾é€",
                music: ["1æ›²ç›®ï¼šã‚­ã‚»ã‚­ (GReeeeN)", "2æ›²ç›®ï¼šã“ãŸãˆã‚ã‚ã› (back number)", "3æ›²ç›®ï¼šæ€ªç£ã®èŠ±å”„ (Vaundy)"],
                intro: "å…¨ãƒ»å®ä»™å°ã®çš†ã•ã‚“ã€ã“ã‚“ã«ã¡ã¯ï¼ã•ã¦ã€å§‹ã¾ã‚Šã¾ã—ãŸï¼ã€ãƒ©ãƒ³ãƒã‚¿ã‚¤ãƒ ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ã€ã®ãŠæ™‚é–“ã§ã™ï¼ã“ã®ç•ªçµ„ã¯ã€çš†ã•ã‚“ã®æ¯æ—¥ãŒã•ã‚‰ã«æ¥½ã—ããªã‚‹ã‚ˆã†ã«ç™ºä¿¡ã™ã‚‹å®ä»™å°ãƒ©ã‚¸ã‚ªç•ªçµ„ã§ã™ã€‚",
                triviaTitle: "ãƒ©ãƒ³ãƒã‚¿ã‚¤ãƒ é›‘å­¦ï¼šä¸–ç•Œã®çµ¦é£Ÿãƒ»ãƒ©ãƒ³ãƒäº‹æƒ…",
                triviaContent: [
                    { title: "ãƒ•ãƒ©ãƒ³ã‚¹", text: "ãƒ•ãƒ©ãƒ³ã‚¹ã§ã¯ã€çµ¦é£Ÿã®æ™‚é–“ãŒç´„1æ™‚é–“åŠã¨é•·ãã€ã‚³ãƒ¼ã‚¹æ–™ç†ã®ã‚ˆã†ã«å‰èœã‹ã‚‰ãƒ‡ã‚¶ãƒ¼ãƒˆã¾ã§ã‚†ã£ãã‚Šã¨é£Ÿã¹ã¾ã™ã€‚é£Ÿè‚²ã‚’å¤§åˆ‡ã«ã—ã¦ã„ã¦ã€çµ¦é£Ÿã®æ™‚é–“ã‚‚æˆæ¥­ã®ä¸€ç’°ã¨è€ƒãˆã‚‰ã‚Œã¦ã„ã¾ã™ã€‚" },
                    { 
                        title: "ã‚¤ãƒ³ãƒ‰", 
                        text: "ã‚¤ãƒ³ãƒ‰ã®çµ¦é£Ÿã¯ã€å¤šãã®å ´åˆã€Œãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³ï¼ˆé‡èœã ã‘ï¼‰ã€ã®çŒ®ç«‹ã§ã™ã€‚ã‚«ãƒ¬ãƒ¼ãƒ©ã‚¤ã‚¹ã§ã¯ãªãã€è‰²ã€…ãªç¨®é¡ã®è±†ã®ã‚«ãƒ¬ãƒ¼ã‚„é‡èœã®ç‚’ã‚ç‰©ãŒå‡ºã¾ã™ã€‚ãã—ã¦ã€ã‚¤ãƒ³ãƒ‰ã§ã¯ã‚«ãƒˆãƒ©ãƒªãƒ¼ï¼ˆã‚¹ãƒ—ãƒ¼ãƒ³ã‚„ãŠç®¸ï¼‰ã‚’ä½¿ã‚ãšã€å³æ‰‹ã ã‘ã‚’ä½¿ã£ã¦é£Ÿã¹ã‚‹ã®ãŒä¸€èˆ¬çš„ã§ã™ã€‚" 
                    },
                    { title: "ãƒ–ãƒ©ã‚¸ãƒ«", text: "ãƒ–ãƒ©ã‚¸ãƒ«ã§ã¯ã€çµ¦é£Ÿã¯ç”Ÿå¾’ã®ä½“æ ¼ã‚„æ „é¤ŠçŠ¶æ…‹ã«åˆã‚ã›ã¦æä¾›ã•ã‚Œã¾ã™ã€‚ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼å¯¾å¿œã‚„ã€å®—æ•™çš„ãªé£Ÿäº‹åˆ¶é™ã«ã‚‚æŸ”è»Ÿã«å¯¾å¿œã—ã¦ã„ã‚‹ã®ãŒç‰¹å¾´ã§ã™ã€‚" }
                ],
                closing: "ã‚‚ã†ã€æ˜¼ä¼‘ã¿ã®ãŠæ™‚é–“ãŒãã¦ã—ã¾ã„ã¾ã—ãŸã€‚ãŠæ¥½ã—ã¿ã„ãŸã ã‘ã¾ã—ãŸã‹ï¼Ÿãã‚Œã§ã¯ã€ä»Šæ—¥ã¯ã“ã®ã¸ã‚“ã§ã€‚ä»Šæ—¥ã®æ”¾é€ã®æ‹…å½“ã¯**ï¼ˆè‡ªåˆ†ã®åå‰ï¼‰**ã¨**ã€‡ã€‡**ã§ã—ãŸï¼ã¾ãŸæ˜æ—¥ã‚‚ãŠä¼šã„ã—ã¾ã—ã‚‡ã†ï¼ã•ã‚ˆã†ãªã‚‰ï¼"
            }
        },
        // æ”¾é€ç•ªå· 2 (12æœˆ15æ—¥)
        {
            id: 2,
            date: "12æœˆ15æ—¥ (ç«)",
            broadcastNo: 2,
            morning: {
                title: "æœã®æ”¾é€",
                music: "1æ›²ç›®ï¼šã‚¸ãƒ–ãƒª (æ›²åæœªå®š)",
                corner: "åå–„æˆ’ éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«"
            },
            lunch: {
                title: "æ˜¼ã®æ”¾é€",
                music: ["1æ›²ç›®ï¼šæ°´å¹³ç·š (back number)", "2æ›²ç›®ï¼šã‚¨ã‚¸ã‚½ãƒ³ (æ°´æ›œæ—¥ã®ã‚«ãƒ³ãƒ‘ãƒãƒ©)", "3æ›²ç›®ï¼šãƒ‘ãƒ—ãƒªã‚« (Foorin)"],
                intro: "å…¨ãƒ»å®ä»™å°ã®çš†ã•ã‚“ã€ã“ã‚“ã«ã¡ã¯ï¼ã•ã¦ã€å§‹ã¾ã‚Šã¾ã—ãŸï¼ã€ãƒ©ãƒ³ãƒã‚¿ã‚¤ãƒ ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ã€ã®ãŠæ™‚é–“ã§ã™ï¼ã“ã®ç•ªçµ„ã¯ã€çš†ã•ã‚“ã®æ¯æ—¥ãŒã•ã‚‰ã«æ¥½ã—ããªã‚‹ã‚ˆã†ã«ç™ºä¿¡ã™ã‚‹å®ä»™å°ãƒ©ã‚¸ã‚ªç•ªçµ„ã§ã™ã€‚",
                triviaTitle: "ãƒ©ãƒ³ãƒã‚¿ã‚¤ãƒ é›‘å­¦ï¼šä¸–ç•Œã®ã‚¯ãƒªã‚¹ãƒã‚¹",
                triviaContent: [
                    { title: "ãƒ‰ã‚¤ãƒ„", text: "ã‚¯ãƒªã‚¹ãƒã‚¹ã®ç´„4é€±é–“å‰ã‹ã‚‰ã€Œã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã€ã¨ã„ã†æœŸé–“ã«å…¥ã‚Šã¾ã™ã€‚ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã¯ãƒ‰ã‚¤ãƒ„ç™ºç¥¥ã§ã™ã€‚" },
                    { title: "ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢", text: "å—åŠçƒã§çœŸå¤ãªã®ã§ã€ã‚µãƒ³ã‚¿ã•ã‚“ã¯ã‚«ãƒ³ã‚¬ãƒ«ãƒ¼ã‚„ã‚µãƒ¼ãƒ•ãƒœãƒ¼ãƒ‰ã«ä¹—ã£ã¦ãã‚‹ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚ãƒ“ãƒ¼ãƒã‚„åº­ã§ãƒãƒ¼ãƒ™ã‚­ãƒ¥ãƒ¼ã‚’ã—ã¾ã™ã€‚" },
                    { title: "æ—¥æœ¬", text: "ã‚¯ãƒªã‚¹ãƒã‚¹ã«ãƒ•ãƒ©ã‚¤ãƒ‰ãƒã‚­ãƒ³ã‚’é£Ÿã¹ã‚‹ç¿’æ…£ãŒã‚ã‚‹ã®ã¯ã€ä¸–ç•Œã§ã‚‚çã—ã„æ—¥æœ¬ã®æ–‡åŒ–ã ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚" }
                ],
                closing: "ã‚‚ã†ã€æ˜¼ä¼‘ã¿ã®ãŠæ™‚é–“ãŒãã¦ã—ã¾ã„ã¾ã—ãŸã€‚ãŠæ¥½ã—ã¿ã„ãŸã ã‘ã¾ã—ãŸã‹ï¼Ÿãã‚Œã§ã¯ã€ä»Šæ—¥ã¯ã“ã®ã¸ã‚“ã§ã€‚ä»Šæ—¥ã®æ”¾é€ã®æ‹…å½“ã¯**ï¼ˆè‡ªåˆ†ã®åå‰ï¼‰**ã¨**ã€‡ã€‡**ã§ã—ãŸï¼ã¾ãŸæ˜æ—¥ã‚‚ãŠä¼šã„ã—ã¾ã—ã‚‡ã†ï¼ã•ã‚ˆã†ãªã‚‰ï¼"
            }
        },
        // æ”¾é€ç•ªå· 3 (1æœˆä»¥é™)
        {
            id: 3,
            date: "1æœˆXXæ—¥ (æ°´)",
            broadcastNo: 3,
            morning: {
                title: "æœã®æ”¾é€",
                music: "1æ›²ç›®ï¼šã‚¸ãƒ–ãƒª (æ›²åæœªå®š)",
                corner: "åå–„æˆ’ éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«"
            },
            lunch: {
                title: "æ˜¼ã®æ”¾é€",
                music: ["å®¶ã‚«ãƒ•ã‚§CDã‚ˆã‚Š3æ›²ï¼ˆæ›²åæœªå®šï¼‰"],
                intro: "å…¨ãƒ»å®ä»™å°ã®çš†ã•ã‚“ã€ã“ã‚“ã«ã¡ã¯ï¼ã•ã¦ã€å§‹ã¾ã‚Šã¾ã—ãŸï¼ã€ãƒ©ãƒ³ãƒã‚¿ã‚¤ãƒ ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ã€ã®ãŠæ™‚é–“ã§ã™ï¼ã“ã®ç•ªçµ„ã¯ã€çš†ã•ã‚“ã®æ¯æ—¥ãŒã•ã‚‰ã«æ¥½ã—ããªã‚‹ã‚ˆã†ã«ç™ºä¿¡ã™ã‚‹å®ä»™å°ãƒ©ã‚¸ã‚ªç•ªçµ„ã§ã™ã€‚",
                triviaTitle: "ãƒ©ãƒ³ãƒã‚¿ã‚¤ãƒ é›‘å­¦ï¼šãŠæ­£æœˆã®éŠã³",
                triviaContent: [
                    { title: "å‡§æšã’", text: "å‡§æšã’ã¯ã‚‚ã¨ã‚‚ã¨ã€å­ã©ã‚‚ã®æˆé•·ã‚’é¡˜ã£ã¦å¤§äººãŒã‚„ã£ã¦ã„ãŸè¡Œäº‹ã§ã™ã€‚æ±Ÿæˆ¸æ™‚ä»£ã«å¤§äººæ°—ã«ãªã‚Šã¾ã—ãŸãŒã€äººãŒã¶ã¤ã‹ã£ãŸã‚Šç«äº‹ã«ãªã£ãŸã‚Šã—ã¦ã€ä¸€æ™‚ç¦æ­¢ã•ã‚ŒãŸã“ã¨ã‚‚ã‚ã£ãŸãã†ã§ã™ã€‚" },
                    { title: "ç¾½æ ¹ã¤ã", text: "ç¾½æ ¹ã¤ãã§ä½¿ã†ç¾½æ ¹ï¼ˆã‚€ãã‚ã˜ï¼‰ã«ã¯ã€è™«ã‚’é£Ÿã¹ã‚‹é»’ã„è±†ï¼ˆãƒ ã‚¯ãƒ­ã‚¸ã®ç¨®ï¼‰ãŒä»˜ã„ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€ç¾½æ ¹ã¤ãã‚’ã™ã‚‹ã“ã¨ã§ã€å„ã‚’æ‰•ã„ã€èšŠãªã©ã®å®³è™«ã‚’è¿½ã„æ‰•ã†é­”é™¤ã‘ã®æ„å‘³ãŒã‚ã£ãŸã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚" }
                ],
                closing: "ã‚‚ã†ã€æ˜¼ä¼‘ã¿ã®ãŠæ™‚é–“ãŒãã¦ã—ã¾ã„ã¾ã—ãŸã€‚ãŠæ¥½ã—ã¿ã„ãŸã ã‘ã¾ã—ãŸã‹ï¼Ÿãã‚Œã§ã¯ã€ä»Šæ—¥ã¯ã“ã®ã¸ã‚“ã§ã€‚ä»Šæ—¥ã®æ”¾é€ã®æ‹…å½“ã¯**ï¼ˆè‡ªåˆ†ã®åå‰ï¼‰**ã¨**ã€‡ã€‡**ã§ã—ãŸï¼ã¾ãŸæ˜æ—¥ã‚‚ãŠä¼šã„ã—ã¾ã—ã‚‡ã†ï¼ã•ã‚ˆã†ãªã‚‰ï¼"
            }
        }
    ];

    const selector = document.getElementById('date-selector');
    const detailArea = document.getElementById('script-detail');
    const initialMessage = document.getElementById('initial-message');
    const maskControls = document.getElementById('mask-controls');
    const maskButton = document.getElementById('mask-button');
    const clearButton = document.getElementById('clear-selection-button'); 
    let isMasked = false;

    // ----------------------------------------------------
    // 2. æ—¥ä»˜é¸æŠãƒœã‚¿ãƒ³ã®ç”Ÿæˆ
    // ----------------------------------------------------
    function renderSelector() {
        // æ—¢å­˜ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªã‚¢ï¼ˆã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ã¯æ®‹ã™ï¼‰
        const existingButtons = selector.querySelectorAll('button:not(#clear-selection-button)');
        existingButtons.forEach(btn => btn.remove());


        broadcastData.forEach(data => {
            const button = document.createElement('button');
            button.className = "w-full text-left p-3 my-1 rounded-lg transition duration-150 ease-in-out bg-white hover:bg-blue-100 border border-gray-200 shadow-sm";
            
            button.innerHTML = `
                <div class="font-bold text-gray-800">${data.date}</div>
                <div class="text-sm text-blue-500">
                    æ”¾é€ç•ªå· ${data.broadcastNo}
                </div>
            `;
            button.onclick = () => selectScript(data);
            selector.appendChild(button);
        });
    }

    // ----------------------------------------------------
    // 3. é¸æŠã•ã‚ŒãŸåŸç¨¿ã®è©³ç´°è¡¨ç¤º
    // ----------------------------------------------------
    function selectScript(data) {
        if (initialMessage) initialMessage.classList.add('hidden');
        maskControls.classList.remove('hidden'); // ãƒã‚¹ã‚¯ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º

        // æ—¢å­˜ã®å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‰Šé™¤
        let existingContent = document.getElementById('current-script-display');
        if (existingContent) {
            existingContent.remove();
        }

        // æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆã—ã€æŒ¿å…¥
        const newContent = document.createElement('div');
        newContent.id = 'current-script-display';
        newContent.innerHTML = renderScriptHTML(data);
        
        // detailAreaã®æœ€å¾Œã«æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŒ¿å…¥
        detailArea.appendChild(newContent); 

        // ãƒã‚¹ã‚¯ã®çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
        isMasked = false;
        updateMaskState();
    }
    
    // ----------------------------------------------------
    // 4. ãƒã‚¹ã‚¯æ©Ÿèƒ½ã®åˆ‡ã‚Šæ›¿ãˆ
    // ----------------------------------------------------
    maskButton.addEventListener('click', toggleMask);

    function toggleMask() {
        isMasked = !isMasked;
        updateMaskState();
    }

    function updateMaskState() {
        // ãƒã‚¹ã‚¯å¯¾è±¡ã¨ãªã‚‹è¦ç´ ï¼ˆ.masked-contentã®ç›´ä¸‹ã®.mask-overlayãŒãªã„è¦ç´ ï¼‰ã‚’å–å¾—
        const maskElements = document.querySelectorAll('.masked-content');
        const button = document.getElementById('mask-button');
        
        if (isMasked) {
            maskElements.forEach(el => {
                // ã™ã§ã«ãƒã‚¹ã‚¯ãŒãªã„å ´åˆã«ã®ã¿é©ç”¨
                if (!el.querySelector('.mask-overlay')) {
                    const maskOverlay = document.createElement('div');
                    maskOverlay.className = 'mask-overlay';
                    maskOverlay.innerHTML = '<span class="text-3xl font-extrabold select-none">ğŸ”’ CONTENTS MASKED ğŸ”’</span>';
                    el.appendChild(maskOverlay);
                }
            });
            button.textContent = 'ğŸ”“ å†…å®¹ã‚’è¡¨ç¤º (ãƒã‚¹ã‚¯OFF)';
            button.classList.remove('bg-red-500', 'hover:bg-red-600');
            button.classList.add('bg-green-500', 'hover:bg-green-600');
        } else {
            maskElements.forEach(el => {
                // ãƒã‚¹ã‚¯ã‚’è§£é™¤
                const overlay = el.querySelector('.mask-overlay');
                if (overlay) {
                    el.removeChild(overlay);
                }
            });
            button.textContent = 'ğŸ”’ å†…å®¹ã‚’éš ã™ (ãƒã‚¹ã‚¯ON)';
            button.classList.remove('bg-green-500', 'hover:bg-green-600');
            button.classList.add('bg-red-500', 'hover:bg-red-600');
        }
    }
    
    // ----------------------------------------------------
    // 5. è©³ç´°è¡¨ç¤ºã®ã‚¯ãƒªã‚¢æ©Ÿèƒ½ï¼ˆãƒªã‚¹ãƒˆã ã‘ã«é›†ä¸­ã™ã‚‹ï¼‰
    // ----------------------------------------------------
    clearButton.addEventListener('click', clearSelection);

    function clearSelection() {
        // æ—¢å­˜ã®å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‰Šé™¤
        let existingContent = document.getElementById('current-script-display');
        if (existingContent) {
            existingContent.remove();
        }

        // ãƒã‚¹ã‚¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’éè¡¨ç¤ºã«ã™ã‚‹
        maskControls.classList.add('hidden');
        
        // åˆæœŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å†è¡¨ç¤ºã™ã‚‹
        initialMessage.classList.remove('hidden');

        // ãƒã‚¹ã‚¯ã®çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
        isMasked = false;
        updateMaskState(); 
        
        console.log("è©³ç´°è¡¨ç¤ºãŒã‚¯ãƒªã‚¢ã•ã‚Œã¾ã—ãŸã€‚");
    }


    // ----------------------------------------------------
    // 6. è©³ç´°è¡¨ç¤ºã‚¨ãƒªã‚¢ã®HTMLç”Ÿæˆ
    // ----------------------------------------------------
    function renderScriptHTML(data) {
        
        const mainTitle = `æ”¾é€ç•ªå· ${data.broadcastNo} - ${data.date}`;
        
        // æœã®æ”¾é€éƒ¨åˆ†ã®HTML (ã“ã“ã¯ãƒã‚¹ã‚¯ã‚’é©ç”¨ã—ãªã„)
        const morningScript = `
            <div class="mb-8 p-6 border-l-4 border-orange-500 bg-orange-50 rounded-lg shadow-inner script-box">
                <h3 class="text-2xl font-bold text-orange-600 mb-4">${data.morning.title} (æ”¾é€ç•ªå· ${data.broadcastNo})</h3>
                <p class="text-sm font-bold text-red-500 mb-4">ã€ã‚»ãƒªãƒ•ãƒ»ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ä¸€åˆ‡ãªã—ã€‘</p>
                <div class="ml-4 space-y-2">
                    <p><span class="font-bold text-gray-700">1æ›²ç›®ï¼š</span>${data.morning.music}</p>
                    <p><span class="font-bold text-gray-700">ã‚³ãƒ¼ãƒŠãƒ¼ï¼š</span>${data.morning.corner}</p>
                </div>
            </div>
        `;

        // æ˜¼ã®æ”¾é€ï¼ˆå…±é€šæ§‹æˆï¼‰
        let triviaItems = data.lunch.triviaContent.map(item => `
            <h4 class="font-bold mt-3 text-lg text-blue-700">${item.title}</h4>
            <p class="mb-2">${item.text}</p>
        `).join('');
        
        // æ›²ç›®ãƒªã‚¹ãƒˆã®ç”Ÿæˆ 
        const musicListHtml = data.lunch.music.map((song, index) => {
            if (data.broadcastNo === 3) {
                 return `<li class="my-1 text-base font-bold text-purple-700">${song}</li>`;
            } else {
                 return `<li class="my-1">ã€${index + 1}æ›²ç›®ã€‘<span class="font-bold">${song}</span></li>`;
            }
        }).join('');

        const lunchScript = `
            <div class="p-8 border-l-4 border-blue-600 bg-blue-50 rounded-lg shadow-inner script-box">
                <h3 class="text-2xl font-bold text-blue-800 mb-4">${data.lunch.title} (æ”¾é€ç•ªå· ${data.broadcastNo})</h3>
                
                <!-- å°å…¥ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ -->
                <div class="bg-yellow-100 p-4 rounded-md mb-6 relative script-box">
                    <p class="font-bold text-xl text-yellow-800">ğŸ—£ï¸ å°å…¥ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ (CDéŸ³é‡0ç¢ºèªå¾Œ)</p>
                    <!-- å°å…¥ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã®æœ¬æ–‡ã¯ãƒã‚¹ã‚¯å¯¾è±¡ -->
                    <div class="masked-content p-2 bg-yellow-100 rounded-md mt-2">
                         <p class="text-gray-700">${data.lunch.intro}</p>
                    </div>
                    <p class="text-sm text-gray-600 mt-2">â€»iPadã®èª­ã¿ä¸Šã’æ©Ÿèƒ½ã§ã“ã®ã‚»ãƒªãƒ•ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</p>
                </div>

                <div class="mb-6">
                    <p class="font-bold text-xl text-green-700 mb-2">ğŸ¶ æœ¬æ—¥ã®æ›²ç›®</p>
                    <ul class="list-disc list-inside ml-4 text-gray-700">
                        ${musicListHtml}
                    </ul>
                </div>
                
                <!-- é›‘å­¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
                <div class="bg-gray-100 p-4 rounded-md mb-6 relative script-box">
                    <p class="font-bold text-xl text-gray-800 mb-2">ğŸ“ ${data.lunch.triviaTitle}</p>
                    <div class="masked-content p-2 bg-gray-100 rounded-md mt-2">
                        <div class="text-gray-700">${triviaItems}</div>
                    </div>
                    <p class="text-sm text-gray-600 mt-2">â€»iPadã®èª­ã¿ä¸Šã’æ©Ÿèƒ½ã§ã“ã®é›‘å­¦ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</p>
                </div>
                
                <!-- ç· ã‚ã®ã‚»ãƒªãƒ• -->
                <div class="bg-red-100 p-4 rounded-md relative script-box mt-6">
                    <p class="font-bold text-xl text-red-700">ğŸ‘‹ ç· ã‚ã®ã‚»ãƒªãƒ• (CDçµ‚äº†å¾Œ)</p>
                    <div class="masked-content p-2 bg-red-100 rounded-md mt-2">
                         <p class="text-gray-700">${data.lunch.closing}</p>
                    </div>
                    <p class="text-sm text-gray-600 mt-2">â€»iPadã®èª­ã¿ä¸Šã’æ©Ÿèƒ½ã§ã“ã®ã‚»ãƒªãƒ•ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</p>
                </div>

            </div>
        `;


        // æœ€çµ‚çš„ãªHTMLã‚’æ§‹æˆ
        return `
            <h2 class="text-3xl font-extrabold mb-6 pb-3 border-b-2 text-gray-800">
                ${mainTitle}
            </h2>
            <div class="space-y-10">
                ${morningScript}
                ${lunchScript}
            </div>
        `;
    }

    // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆæœŸåŒ–
    window.onload = renderSelector;

</script>
</body>
</html>
